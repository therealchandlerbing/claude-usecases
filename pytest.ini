[pytest]
# Pytest configuration for claude-usecases

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test* *Tests
python_functions = test_*

# Test paths
testpaths = tests

# Add source directories to Python path
pythonpath = . skills .claude/skills

# Coverage options
addopts =
    --verbose
    --strict-markers
    --tb=short
    --cov=skills
    --cov=.claude/skills
    --cov-report=html:htmlcov
    --cov-report=term-missing
    --cov-report=xml
    --cov-branch
    --cov-fail-under=0

# Markers for organizing tests
markers =
    unit: Unit tests
    integration: Integration tests
    e2e: End-to-end tests
    financial: Financial calculation tests (high priority)
    compliance: Regulatory compliance tests (high priority)
    data_processing: Data processing and transformation tests
    api: External API integration tests
    slow: Tests that take significant time to run

# Ignore certain directories during test collection
norecursedirs =
    .git
    .github
    dist
    build
    *.egg
    node_modules
    htmlcov
    .venv
    venv

# Test output options
console_output_style = progress
log_cli = false
log_cli_level = INFO

# Warnings
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning
